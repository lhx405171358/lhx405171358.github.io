function addLoadEvent(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a}else{window.onload=function(){b();a()}}}function insertAfter(c,a){var b=a.parentNode;if(b.lastChild==a){b.appendChild(c)}else{b.insertBefore(c,a.nextSibling)}}function addClass(a,b){if(!a.className){a.className=b}else{newClassName=a.className;newClassName+=" ";newClassName+=b;a.className=newClassName}}function highlightPage(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}var f=document.getElementsByTagName("header");if(f.length==0){return false}var e=f[0].getElementsByTagName("nav");if(e.length==0){return false}var a=e[0].getElementsByTagName("a");var c;for(var b=0;b<a.length;b++){c=a[b].getAttribute("href");if(window.location.href.indexOf(c)!=-1){a[b].className="here";var d=a[b].lastChild.nodeValue.toLowerCase();document.body.setAttribute("id",d)}}}function moveElement(h,i,g,c){if(!document.getElementById){return false}if(!document.getElementById(h)){return false}var d=document.getElementById(h);if(d.movement){clearTimeout(d.movement)}if(!d.style.left){d.style.left="0px"}if(!d.style.top){d.style.top="0px"}var e=parseInt(d.style.left);var b=parseInt(d.style.top);if(e==i&&b==g){return true}if(e<i){var f=Math.ceil((i-e)/10);e=e+f}if(e>i){var f=Math.ceil((e-i)/10);e=e-f}if(b<g){var f=Math.ceil((g-b)/10);b=b+f}if(b>g){var f=Math.ceil((b-g)/10);b=b-f}d.style.left=e+"px";d.style.top=b+"px";var a="moveElement('"+h+"',"+i+","+g+","+c+")";d.movement=setTimeout(a,c)}function prepareSlideshow(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}if(!document.getElementById("intro")){return false}var e=document.getElementById("intro");var d=document.createElement("div");d.setAttribute("id","slideshow");if(Modernizr.testProp("borderRadius")){d.style.borderRadius="20px"}else{var g=document.createElement("img");g.setAttribute("src","images/frame.gif");g.setAttribute("alt","");g.setAttribute("id","frame");d.appendChild(g)}var f=document.createElement("img");f.setAttribute("src","images/slideshow.gif");f.setAttribute("alt","a glimpse of what awaits you");f.setAttribute("id","preview");d.appendChild(f);insertAfter(d,e);var b=document.getElementsByTagName("a");var a;for(var c=0;c<b.length;c++){b[c].onmouseover=function(){a=this.getAttribute("href");if(a.indexOf("index.html")!=-1){moveElement("preview",0,0,5)}if(a.indexOf("about.html")!=-1){moveElement("preview",-150,0,5)}if(a.indexOf("photos.html")!=-1){moveElement("preview",-300,0,5)}if(a.indexOf("live.html")!=-1){moveElement("preview",-450,0,5)}if(a.indexOf("contact.html")!=-1){moveElement("preview",-600,0,5)}}}}function showSection(c){var b=document.getElementsByTagName("section");for(var a=0;a<b.length;a++){if(b[a].getAttribute("id")!=c){b[a].style.display="none"}else{b[a].style.display="block"}}}function prepareInternalnav(){if(!document.getElementsByName){return false}if(!document.getElementById){return false}var c=document.getElementsByTagName("article");if(c.length==0){return false}var e=c[0].getElementsByTagName("nav");if(e.length==0){return false}var f=e[0];var a=f.getElementsByTagName("a");for(var b=0;b<a.length;b++){var d=a[b].getAttribute("href").split("#")[1];if(!document.getElementById(d)){continue}document.getElementById(d).style.display="none";a[b].destination=d;a[b].onclick=function(){showSection(this.destination);return false}}}function showPic(a){if(!document.getElementById("placeholder")){return true}var c=a.getAttribute("href");var e=document.getElementById("placeholder");e.setAttribute("src",c);if(!document.getElementById("description")){return false}if(a.getAttribute("title")){var d=a.getAttribute("title")}else{var d=""}var b=document.getElementById("description");if(b.firstChild.nodeType==3){b.firstChild.nodeValue=d}return false}function preparePlaceholder(){if(!document.createElement){return false}if(!document.createTextNode){return false}if(!document.getElementById){return false}if(!document.getElementById("imagegallery")){return false}var d=document.createElement("img");d.setAttribute("id","placeholder");d.setAttribute("src","images/placeholder.gif");d.setAttribute("alt","my image gallery");var c=document.createElement("p");c.setAttribute("id","description");var b=document.createTextNode("Choose an image");c.appendChild(b);var a=document.getElementById("imagegallery");insertAfter(c,a);insertAfter(d,c)}function prepareGallery(){if(!document.getElementsByTagName){return false}if(!document.getElementById){return false}if(!document.getElementById("imagegallery")){return false}var a=document.getElementById("imagegallery");var b=a.getElementsByTagName("a");for(var c=0;c<b.length;c++){b[c].onclick=function(){return showPic(this)}}}function stripeTables(){if(!document.getElementsByTagName){return false}var c=document.getElementsByTagName("table");for(var b=0;b<c.length;b++){var e=false;var d=c[b].getElementsByTagName("tr");for(var a=0;a<d.length;a++){if(e==true){addClass(d[a],"odd");
  e=false}else{e=true}}}}function highlightRows(){if(!document.getElementsByTagName){return false}var b=document.getElementsByTagName("tr");for(var a=0;a<b.length;a++){b[a].oldClassName=b[a].className;b[a].onmouseover=function(){addClass(this,"highlight")};b[a].onmouseout=function(){this.className=this.oldClassName}}}function displayAbbreviations(){if(!document.getElementsByTagName||!document.createElement||!document.createTextNode){return false}var e=document.getElementsByTagName("abbr");if(e.length<1){return false}var c=new Array();for(var f=0;f<e.length;f++){var o=e[f];if(o.childNodes.length<1){continue}var a=o.getAttribute("title");var m=o.lastChild.nodeValue;c[m]=a}var n=document.createElement("dl");for(m in c){var a=c[m];var h=document.createElement("dt");var b=document.createTextNode(m);h.appendChild(b);var l=document.createElement("dd");var j=document.createTextNode(a);l.appendChild(j);n.appendChild(h);n.appendChild(l)}if(n.childNodes.length<1){return false}var g=document.createElement("h3");var k=document.createTextNode("Abbreviations");g.appendChild(k);var d=document.getElementsByTagName("article");if(d.length==0){return false}d[0].appendChild(g);d[0].appendChild(n)}function focusLabels(){if(!document.getElementsByTagName){return false}var b=document.getElementsByTagName("label");for(var a=0;a<b.length;a++){if(!b[a].getAttribute("for")){continue}b[a].onclick=function(){var d=this.getAttribute("for");if(!document.getElementById(d)){return false}var c=document.getElementById(d);c.focus()}}}function resetFields(d){if(Modernizr.input.placeholder){return}for(var c=0;c<d.elements.length;c++){var b=d.elements[c];if(b.type=="submit"){continue}var a=b.placeholder||b.getAttribute("placeholder");if(!a){continue}b.onfocus=function(){var e=this.placeholder||this.getAttribute("placeholder");if(this.value==e){this.className="";this.value=""}};b.onblur=function(){if(this.value==""){this.className="placeholder";this.value=this.placeholder||this.getAttribute("placeholder")}};b.onblur()}}function prepareForms(){for(var a=0;a<document.forms.length;a++){var b=document.forms[a];resetFields(b);b.onsubmit=function(){if(!validateForm(this)){return false}var c=document.getElementsByTagName("article")[0];if(submitFormWithAjax(this,c)){return false}return true}}}function isFilled(a){if(a.value.replace(" ","").length==0){return false}var b=a.placeholder||a.getAttribute("placeholder");return(a.value!=b)}function isEmail(a){return(a.value.indexOf("@")!=-1&&a.value.indexOf(".")!=-1)}function validateForm(c){for(var b=0;b<c.length;b++){var a=c.elements[b];if(a.required=="required"){if(!isFilled(a)){alert("Please fill in the "+a.name+" field.");return false}}if(a.type=="email"){if(!isEmail(a)){alert("The "+a.name+" field must be avalid email address.");return false}}}return true}function getHTTPObject(){if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return false}}return new XMLHttpRequest()}function displayAjaxLoading(a){while(a.hasChildNodes()){a.removeChild(a.lastChild)}var b=document.createElement("img");b.setAttribute("src","images/loading.gif");b.setAttribute("alt","Loading");a.appendChild(b)}function submitFormWithAjax(f,a){var e=getHTTPObject();if(!e){return false}displayAjaxLoading(a);var h=[];var d;for(var c=0;c<f.elements.length;c++){d=f.elements[c];if(d.name){var b=d.name+"="+encodeURIComponent(d.value);h.push(b)}}var g=h.join("&");e.open("POST",f.getAttribute("action"),true);e.onreadystatechange=function(){if(e.readyState==4){if(e.status==200||e.status==0){var i=e.responseText.match(/<article>([\s\S]+)<\/article>/);if(i.length>0){a.innerHTML=i[1]}else{a.innerHTML="<p>Oops, there was an error. Sorry.</p>"}}else{a.innerHTML="<p>"+e.statusText+"</p>"}}};e.send(g);return true}function loadEvents(){prepareSlideshow();prepareInternalnav();preparePlaceholder();prepareGallery();stripeTables();highlightRows();displayAbbreviations();focusLabels();prepareForms()}addLoadEvent(highlightPage);addLoadEvent(loadEvents);